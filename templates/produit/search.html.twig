{% extends 'front.html.twig' %}

{% block title %}Search - My Website{% endblock %}

{% block body %}
    <h1>Search</h1>

    <form method="get" action="{{ path('app_produit_search') }}">
        <input type="text" name="q" placeholder="Search...">
        <button type="submit">Search</button>
    </form>

    {% if produits|length > 0 %}
        <h2>Results:</h2>
        <div style="display: flex; flex-wrap: wrap;">
            {% for produit in produits %}
                <div style="border: 1px solid #ccc; padding: 10px; margin: 10px; width: 250px;">
                    <div style="margin-bottom: 10px;">
                        <img src="{{ asset ('uploads/produit/') ~ produit.imageProduit }}" alt="{{ produit.nomProduit }}" style="width: 100%; height: 200px; object-fit: cover;">
                    </div>
                    <div style="font-weight: bold; margin-bottom: 5px;">{{ produit.nomProduit }}</div>
                    <div style="margin-bottom: 10px;">{{ produit.descriptionProduit }}</div>
                    <div style="font-weight: bold; margin-bottom: 5px;">{{ produit.prixProduit }}</div>
                    <div style="display: flex; justify-content: space-between;">
                        <a href="{{ path('app_produit_show', {'id_produit': produit.idProduit}) }}">Show</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No results found.</p>
    {% endif %}
{% endblock %}
